subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
ggp+ stat_smooth(method="lm",  formula=y~x, geom="smooth")
df_small1<-store_1[0:30,]
df_small2<-store_1[30:60,]
df_small3<-store_1[60:90,]
df_small4<-store_1[90:120,]
print(dim(df_small1))
print(dim(df_small2))
print(dim(df_small3))
print(dim(df_small4))
par(mfrow=c(1,1))
ggplot(data = df_small1, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
#ggp+ stat_smooth(method="lm",  formula=y~x, geom="smooth")
df_small1<-store_1[0:30,]
df_small2<-store_1[30:60,]
df_small3<-store_1[60:90,]
df_small4<-store_1[90:120,]
print(dim(df_small1))
print(dim(df_small2))
print(dim(df_small3))
print(dim(df_small4))
par(mfrow=c(1,1))
ggplot(data = df_small1, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
#ggp+ stat_smooth(method="lm",  formula=y~x, geom="smooth")
df_small1<-store_1[0:30,]
df_small2<-store_1[30:60,]
df_small3<-store_1[60:90,]
df_small4<-store_1[90:120,]
print(dim(df_small1))
print(dim(df_small2))
print(dim(df_small3))
print(dim(df_small4))
par(mfrow=c(1,1))
ggplot(data = df_small1, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015 df_small4")
#ggp+ stat_smooth(method="lm",  formula=y~x, geom="smooth")
df_small1<-store_1[0:30,]
df_small2<-store_1[30:60,]
df_small3<-store_1[60:90,]
df_small4<-store_1[90:120,]
print(dim(df_small1))
print(dim(df_small2))
print(dim(df_small3))
print(dim(df_small4))
par(mfrow=c(1,1))
ggplot(data = df_small1, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015 df_small4")
ggp
#ggp+ stat_smooth(method="lm",  formula=y~x, geom="smooth")
df_small1<-store_1[0:30,]
df_small2<-store_1[30:60,]
df_small3<-store_1[60:90,]
df_small4<-store_1[90:120,]
print(dim(df_small1))
print(dim(df_small2))
print(dim(df_small3))
print(dim(df_small4))
par(mfrow=c(1,1))
ggplot(data = df_small1, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Salesv.Day",
subtitle = "Rossman 2013-2015 df_small4")
ggp
#ggp+ stat_smooth(method="lm",  formula=y~x, geom="smooth")
df_small1<-store_1[0:30,]
df_small2<-store_1[30:60,]
df_small3<-store_1[60:90,]
df_small4<-store_1[90:120,]
print(dim(df_small1))
print(dim(df_small2))
print(dim(df_small3))
print(dim(df_small4))
par(mfrow=c(1,1))
ggplot(data = df_small1, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Salesv.Day",
subtitle = "Rossman 2013-2015 df_small4")
#ggp
ggp+ stat_smooth(method="lm",  formula=y~x, geom="smooth")
#drop the 0 sales rows
train_data[train_data$Sales==0]
#drop the 0 sales rows
train_data[train_data$Sales==0,]
#drop the 0 sales rows
dim(train_data[train_data$Sales==0,])
#drop the 0 sales rows
dim(train_data)
dim(train_data[train_data$Sales==0,])
#drop the 0 sales rows
dim(train_data)
dim(train_data[train_data$Sales==0,])
train_data_remove_zero_sales <-train_data[train_data$Sales!=0,]
dim(train_data_remove_zero_sales)
#drop the 0 sales rows
dim(train_data)
dim(train_data[train_data$Sales==0,])
train_data_remove_zero_sales <-train_data[train_data$Sales!=0,]
dim(train_data_remove_zero_sales)
store_1 = train_data_remove_zero_sales[train_data_remove_zero_sales[train_data_remove_zero_sales$Store==1],]
#drop the 0 sales rows
dim(train_data)
dim(train_data[train_data$Sales==0,])
train_data_remove_zero_sales <-train_data[train_data$Sales!=0,]
dim(train_data_remove_zero_sales)
store_1 = train_data_remove_zero_sales[train_data_remove_zero_sales$Store==1],]
#drop the 0 sales rows
dim(train_data)
dim(train_data[train_data$Sales==0,])
train_data_remove_zero_sales <-train_data[train_data$Sales!=0,]
dim(train_data_remove_zero_sales)
store_1 = train_data_remove_zero_sales[train_data_remove_zero_sales$Store==1,]
dim(store_1)
plot_store1<-function(df){
ggplot(data = df, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
}
plot_store1(store_1)
split_and_plot<-function(df){
start_row=0
increment=30
for(x in 1:5){
num_graph_row=0
num_graph_col=0
print(paste("start_row:",start_row))
df_small<-df[start_row:(start_row+increment),]
print(dim(df_small))
plot_store1(df_small)
#print(df_small)
start_row=start_row+increment
}
}
split(store_1)
df_small1<-store_1[0:30,]
df_small2<-store_1[30:60,]
df_small3<-store_1[60:90,]
df_small4<-store_1[90:120,]
print(dim(df_small1))
print(dim(df_small2))
print(dim(df_small3))
print(dim(df_small4))
par(mfrow=c(1,1))
ggplot(data = df_small1, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(2,1))
ggplot(data = df_small2, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,1))
ggplot(data = df_small3, aes(x=Date, y=Sales)) +
geom_point() +
labs(x = "Date",
y = "Daily Sales",
title = "Sales vs. Day",
subtitle = "Rossman 2013-2015")
par(mfrow=c(3,2))
ggp<-ggplot(data = df_small4, aes(x=Date, y=Sales)) +
geom_point()
labs(x = "Date",
y = "Daily Sales",
title = "Salesv.Day",
subtitle = "Rossman 2013-2015 df_small4")
#ggp
ggp+ stat_smooth(method="lm",formula=y~x, geom="smooth")
knitr::opts_chunk$set(echo = TRUE)
#https://otexts.com/fpp2/ts-objects.html
y <- ts(c(123,39,78,52,110), start=2012)
y <- ts(c(123,39,78,52,110), start=2012)
y
autoplot(melsyd[,"Economy.Class"]) +
ggtitle("Economy class passengers: Melbourne-Sydney") +
xlab("Year") +
ylab("Thousands")
install.packages("fpp")
library(fpp)
autoplot(melsyd[,"Economy.Class"]) +
ggtitle("Economy class passengers: Melbourne-Sydney") +
xlab("Year") +
ylab("Thousands")
y <- ts(c(123,39,78,52,110), start=2012)
autoplot(y)
ggseasonplot(a10, year.labels=TRUE, year.labels.left=TRUE) +
ylab("$ million") +
ggtitle("Seasonal plot: antidiabetic drug sales")
ggseasonplot(a10, polar=TRUE) +
ylab("$ million") +
ggtitle("Polar seasonal plot: antidiabetic drug sales")
a10
autoplot(elecdemand[,c("Demand","Temperature")], facets=TRUE) +
xlab("Year: 2014") + ylab("") +
ggtitle("Half-hourly electricity demand: Victoria, Australia")
ggsubseriesplot(a10) +
ylab("$ million") +
ggtitle("Seasonal subseries plot: antidiabetic drug sales")
install.packages("fpp2")
library(fpp2)
y <- ts(c(123,39,78,52,110), start=2012)
autoplot(y)
knitr::opts_chunk$set(echo = TRUE)
#https://otexts.com/fpp2/ts-objects.html
#ch3.1
# Set training data from 1992 to 2007
beer2 <- window(ausbeer,start=1992,end=c(2007,4))
install.packages("fpp2")
library(fpp2)
y <- ts(c(123,39,78,52,110), start=2012)
autoplot(y)
install.packages("fpp")
library(fpp)
autoplot(melsyd[,"Economy.Class"]) +
ggtitle("Economy class passengers: Melbourne-Sydney") +
xlab("Year") +
ylab("Thousands")
ggseasonplot(a10, year.labels=TRUE, year.labels.left=TRUE) +
ylab("$ million") +
ggtitle("Seasonal plot: antidiabetic drug sales")
ggseasonplot(a10, polar=TRUE) +
ylab("$ million") +
ggtitle("Polar seasonal plot: antidiabetic drug sales")
a10
ggsubseriesplot(a10) +
ylab("$ million") +
ggtitle("Seasonal subseries plot: antidiabetic drug sales")
autoplot(elecdemand[,c("Demand","Temperature")], facets=TRUE) +
xlab("Year: 2014") + ylab("") +
ggtitle("Half-hourly electricity demand: Victoria, Australia")
#ch3.1
# Set training data from 1992 to 2007
beer2 <- window(ausbeer,start=1992,end=c(2007,4))
# Plot some forecasts
autoplot(beer2) +
autolayer(meanf(beer2, h=11),
series="Mean", PI=FALSE) +
autolayer(naive(beer2, h=11),
series="Naïve", PI=FALSE) +
autolayer(snaive(beer2, h=11),
series="Seasonal naïve", PI=FALSE) +
ggtitle("Forecasts for quarterly beer production") +
xlab("Year") + ylab("Megalitres") +
guides(colour=guide_legend(title="Forecast"))
autoplot(goog200) +
autolayer(meanf(goog200, h=40),
series="Mean", PI=FALSE) +
autolayer(rwf(goog200, h=40),
series="Naïve", PI=FALSE) +
autolayer(rwf(goog200, drift=TRUE, h=40),
series="Drift", PI=FALSE) +
ggtitle("Google stock (daily ending 6 Dec 2013)") +
xlab("Day") + ylab("Closing Price (US$)") +
guides(colour=guide_legend(title="Forecast"))
knitr::opts_chunk$set(echo = TRUE)
install.packages("fpp2")
library(fpp2)
install.packages("fpp2")
knitr::opts_chunk$set(echo = TRUE)
install.packages("fpp2")
library(fpp2)
install.packages("fpp")
library(fpp)
autoplot(melsyd[,"Economy.Class"]) +
ggtitle("Economy class passengers: Melbourne-Sydney") +
xlab("Year") +
ylab("Thousands")
ggseasonplot(a10, year.labels=TRUE, year.labels.left=TRUE) +
ylab("$ million") +
ggtitle("Seasonal plot: antidiabetic drug sales")
ggseasonplot(a10, polar=TRUE) +
ylab("$ million") +
ggtitle("Polar seasonal plot: antidiabetic drug sales")
a10
ggsubseriesplot(a10) +
ylab("$ million") +
ggtitle("Seasonal subseries plot: antidiabetic drug sales")
autoplot(elecdemand[,c("Demand","Temperature")], facets=TRUE) +
xlab("Year: 2014") + ylab("") +
ggtitle("Half-hourly electricity demand: Victoria, Australia")
install.packages("fpp")
knitr::opts_chunk$set(echo = TRUE)
install.packages("fpp2")
library(fpp2)
train_data<-read.csv("/Users/dc/test_stuff/rossman/rossman_data/train.csv")
train_data.head()
train_data<-read.csv("/Users/dc/test_stuff/rossman/rossman_data/train.csv")
head(train_data,10)
train_data<-read.csv("/Users/dc/test_stuff/rossman/rossman_data/train.csv")
print(head(train_data,10))
print(tail(train_data, 10))
store1<-train_data[train_data$Store==1]
print(class(train_data))
print(colnames(train_data))
store1<-train_data[train_data$Store==1]
print(class(train_data))
print(colnames(train_data))
store1<-train_data[ train_data$Store==1 ]
print(class(train_data))
print(colnames(train_data))
train_data[train_data$Store]
print(class(train_data))
print(colnames(train_data))
train_data[train_data$Date]
print(class(train_data))
print(colnames(train_data))
store1<-train_data[ train_data$Store==1, ]
print(class(train_data))
print(colnames(train_data))
store1<-train_data[ train_data$Store==1, ]
head(store1,10)
train_data.ts = ts(data=train_data$Sales, frequency-52, start=c(2013,1,1), end=c(2015, 7, 31))
train_data.ts = ts(data=train_data$Sales, frequency=52, start=c(2013,1,1), end=c(2015, 7, 31))
train_data.ts = ts(data=train_data$Sales, frequency=52, start=c(2013,1,1), end=c(2015, 7, 31))
print(start(train_data.ts))
print(end(train_data.ts))
train_data.ts = ts(data=train_data$Sales, frequency=52, start=c(2013,1,1), end=c(2015, 7, 31))
print(start(train_data.ts))
print(end(train_data.ts))
print(time(train_data.ts))
train_data.ts = ts(data=train_data$Sales, frequency=52, start=c(2013,1,1), end=c(2015, 7, 31))
print(start(train_data.ts))
print(end(train_data.ts))
print(time(train_data.ts))
plot(train_data.ts, col="blue", lwd=2, ylab="sales dollars", main="daily sales")
train_data.ts = ts(data=train_data$Sales, frequency=52, start=c(2013,1,1), end=c(2015, 7, 31))
print(start(train_data.ts))
print(end(train_data.ts))
print(time(train_data.ts))
plot(train_data.ts, col="blue", ylab="sales dollars", main="daily sales")
ggseasonplot(train_data.ts) + ggtitle("Sales")
plot(train_data.ts, col="blue")
plot(train_data.ts, col="blue")+ ggtitle("Sales")
plot(train_data.ts )+ ggtitle("Sales")
autoplot(train_data.ts )+ ggtitle("Sales")
ggseasonplot(train_data.ts, polar=TRUE) + ggtitle("Sales")
ggsubseriesplot(train_data.ts) + ggtitle("Sales")
