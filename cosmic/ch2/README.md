presents 2 ways to persist 
1) ORM 
2) repo pattern using DI to test. 


both patterns allow the domain tests in test_batch.py and test_allocation.py code to work unchanged


