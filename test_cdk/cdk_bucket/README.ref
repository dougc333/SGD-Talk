s3 bucket with public endpoint for  testing
Verify credentials and who is running the AWS CLI tool


dougchang@Dougs-MacBook-Pro ~/Documents/GitHub/test_stuff/test_cdk/cdk_bucket % aws sts get-caller-identity
{
    "UserId": "669059827483",
    "Account": "669059827483",
    "Arn": "arn:aws:iam::669059827483:root"
}

The cdk-examples arent clear. They dont use the standard cdk template and the static site
example doesnt work

https://dev.to/aws-builders/create-your-first-s3-bucket-using-aws-cdk-cj7

name must be unique globally for bucketName. Missing from docs. 

The access path from outside and inside aws is different for a public bucket
from outside: https://bucket-name.s3.region-code.amazonaws.com/key-name
The key-name refers to an object inside the s3 bucket. upload an object to the bucket first then verify by 
going to the aws website and viewing the url of the object in s3 bucket. And verify access by doing curl on address of s3 bucket object. 

https://lecture-first-bucket-hedaaff.s3.us-west-2.amazonaws.com/testdata.txt

The deployment lambda funciton limiit is 128MB if you need larger file transfer have to configure memoryLimit. 
The temp storage size limit is 512MB, may need to increase by adding EFS to lambda fn. Set EFS and VPC props for bucketdeployment. 

https://lecture-first-bucket-hedaaff.s3.us-west2.amazonaws.com/
Need 

HAVE TO READ BOTH VERSIONS OF DOCS. 

From V1 cdk docs:
From reference documents for s3 Deployment: 
"Please note that creating VPC inline may cause stack deletion failures."
Put VPC into separate stack. Unclear why.

From V2 cdk docs: 
ZIP FILES: 
IMPORTANT The aws-s3-deployment module is only intended to be used with zip files from trusted sources. 
Directories bundled by the CDK CLI (by using Source.asset() on a directory) are safe. If you are using Source.asset() or Source.bucket() to reference an existing zip file, make sure you trust the file you are referencing. Zips from untrusted sources might be able to execute arbitrary code in the Lambda Function used by this module, 
and use its permissions to read or write unexpected files in the S3 bucket.

Need  "Action": [
            [ ]       "s3:DeleteObject*",
            [ ]       "s3:GetBucket*",
to use CDK diff. if bucket name stays same can use existing bucket. This is if bucket objects have changed
in the diff and they need to be deleted. 
May need delete bucket. can not rename bucket. 

2 methods of public access:
1) acl
2) xxxx


Very difficult to understand if the tech writer doesnt understand something they leave it off. 
They dont test the api. docs full of underspecified terms without examples

How to add a temp url to s3? 
